import android.app.DatePickerDialog;
import android.app.TimePickerDialog;
import android.content.Intent;
import android.net.Uri;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.DatePicker;
import android.widget.EditText;
import android.widget.TextView;
import android.widget.TimePicker;
import android.content.Intent;
import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;
import android.view.View;
import android.widget.Toast;


import java.util.Calendar;

import java.util.GregorianCalendar;

public class MainActivity extends AppCompatActivity {
    private int year1,month1,day1,hour1,minute1;//여기는 일정 변수
    private int year2,month2,day2,hour2,minute2;//디데이 일정 변수

    TextView DATE,TIME,DATE2,TIME2; //텍스트 뷰로 나오게 하기
    private EditText ed_TITLE;// 나머지도 마찬가지
    private EditText ed_AREA;
    private EditText ed_content;
    private Button bt_Save;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        ed_TITLE = (EditText) findViewById(R.id.editText10);
        ed_AREA = (EditText) findViewById(R.id.editText2);
        ed_content = (EditText) findViewById(R.id.editText);
        DATE = (TextView) findViewById(R.id.A_DATE);
        TIME = (TextView) findViewById(R.id.A_TIME);
        DATE2 = (TextView) findViewById(R.id.B_DATE);
        TIME2 = (TextView) findViewById(R.id.B_TIME);
        bt_Save = (Button) findViewById(R.id.button2);
        // 텍스트 뷰에 대한 속성 지정


        Calendar cal = new GregorianCalendar();
        year1 = cal.get(Calendar.YEAR);
        month1 = cal.get(Calendar.MONTH);
        day1 = cal.get(Calendar.DAY_OF_MONTH);
        hour1 = cal.get(Calendar.HOUR);
        minute1 = cal.get(Calendar.MINUTE);
        year2 = cal.get(Calendar.YEAR);
        month2 = cal.get(Calendar.MONTH);
        day2 = cal.get(Calendar.DAY_OF_MONTH);
        hour2 = cal.get(Calendar.HOUR);
        minute2 = cal.get(Calendar.MINUTE);
//        UpdateNow();
    // 시간들에 대한 속성 지정

        bt_Save.setOnClickListener((v)->{

            Intent intent1 = new Intent(MainActivity.this,SubActivity.class);
            String edt = intent1.getStringExtra("edt");
            String are = intent1.getStringExtra("are");
            String conte = intent1.getStringExtra("conte");
            String AD = intent1.getStringExtra("AD");
            String AT = intent1.getStringExtra("AT");
            String BD = intent1.getStringExtra("BD");
            String BT = intent1.getStringExtra("BT");

            intent1.putExtra("edt",edt);
            intent1.putExtra("are",are);
            intent1.putExtra("conte",conte);
            intent1.putExtra("AD",AD);
            intent1.putExtra("AT",AT);
            intent1.putExtra("BD",BD);
            intent1.putExtra("BT",BT);
            startActivity(intent1);
            // 버튼 클릭하면 저장될 것들
            }

        );
    }
    //public void onClick(View v)
   // {
       // Intent intent = new Intent(getApplicationContext(),SubActivity.class);
      //  intent.putExtra("Name","BAD");
     //   startActivity(intent);
    //}




    void UpdateNow() {
        DATE.setText(String.format("날짜:%d/%d/%d", year1, month1 + 1, day1));
        TIME.setText(String.format("시간:%d:%d", hour1, minute1));
        DATE2.setText(String.format("날짜:%d/%d/%d", year2, month2 + 1, day2));
        TIME2.setText(String.format("시간:%d:%d", hour2, minute2));

    }
    public void mOnclick(View v) {
        if (v.getId() == R.id.A_DATE) {
            Toast.makeText(this,"날짜를 입력해 주세요.",Toast.LENGTH_LONG).show();
            new
                    DatePickerDialog(MainActivity.this, A_DATEset, year1, month1, day1).show();
        }
    }
    public void mOnclick1(View v) {
        if (v.getId() == R.id.B_DATE) {
            Toast.makeText(this,"날짜를 입력해 주세요.",Toast.LENGTH_LONG).show();
            new
                    DatePickerDialog(MainActivity.this, B_DATEset, year2, month2, day2).show();
        }
    }
    public void mOnclick2(View v) {
        if (v.getId() == R.id.A_TIME) {
            Toast.makeText(this,"시간을 입력해 주세요.",Toast.LENGTH_LONG).show();
            new
                    TimePickerDialog(MainActivity.this, A_TIMEset, hour1, minute1, false).show();
        }
    }
    public void mOnclick3(View v) {
        if (v.getId() == R.id.B_TIME) {
            Toast.makeText(this,"시간을 입력해 주세요.",Toast.LENGTH_LONG).show();
            new
                    TimePickerDialog(MainActivity.this, B_TIMEset, hour2, minute2, false).show();
        }
    }

//        switch(v.getId())
//        {
//            case R.id.A_DATE:
//                new
//                        DatePickerDialog(MainActivity.this,A_DATEset,year1,month1,day1).show();
//                break;
//            case R.id.B_DATE:
//                new
//                        DatePickerDialog(MainActivity.this,B_DATEset,year2,month2,day2).show();
//                break;
//
//            case R.id.A_TIME:
//                new
//                        TimePickerDialog(MainActivity.this,A_TIMEset,hour1,minute1,false).show();
//                break;
//            case R.id.B_TIME:
//                new
//                        TimePickerDialog(MainActivity.this,B_TIMEset,hour2,minute2,false).show();
//                break;
//
//        }swich나 if 나 같음


    public DatePickerDialog.OnDateSetListener A_DATEset = new DatePickerDialog.OnDateSetListener() {
        @Override
        public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) {
            year1 = year;
            month1 = month;
            day1 = dayOfMonth;
            UpdateNow();

        }
    };
    public DatePickerDialog.OnDateSetListener B_DATEset = new DatePickerDialog.OnDateSetListener() {
        @Override
        public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) {
            year2 = year;
            month2 = month;
            day2 = dayOfMonth;
            UpdateNow();

        }
    };
    public TimePickerDialog.OnTimeSetListener A_TIMEset = new TimePickerDialog.OnTimeSetListener() {
        @Override
        public void onTimeSet(TimePicker view, int hourOfDay, int minute) {
            hour1 = hourOfDay;
            minute1 = minute;
            UpdateNow();
        }
    };
    public TimePickerDialog.OnTimeSetListener B_TIMEset = new TimePickerDialog.OnTimeSetListener() {
        @Override
        public void onTimeSet(TimePicker view, int hourOfDay, int minute) {
            hour2 = hourOfDay;
            minute2 = minute;
            UpdateNow();
        }
    };

}
